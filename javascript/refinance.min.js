for(var flyers=document.getElementById("flyers").getElementsByClassName("collapsible"),i=0;i<flyers.length;i++)flyers[i].addEventListener("click",function(){for(var contents=document.getElementById("flyers").getElementsByClassName("content"),j=0;j<contents.length;j++)contents[j].style.maxHeight=null;if(this.classList.contains("active"))this.classList.remove("active");else{for(var k=0;k<flyers.length;k++)flyers[k].classList.remove("active");this.classList.toggle("active");var content=this.nextElementSibling;content.style.maxHeight=content.scrollHeight+"px"}});function hide_calc_slides(){for(var widget_slides=document.getElementById("refi-calc").getElementsByClassName("widget-slide"),i=0;i<widget_slides.length;i++)$(widget_slides[i]).hide()}function show_slide(id){var element;hide_calc_slides(),$("#"+id).slideDown("slow"),document.getElementById("refi-calc").scrollIntoView(),calc()}function set_value(id,value){document.getElementById(id).value=value}function toString(id,value,digit){document.getElementById(id).innerHTML=value.toLocaleString(void 0,{minimumFractionDigits:digit,maximumFractionDigits:digit})}function get_inputValue(id){return document.getElementById(id).value}function show(id){return document.getElementById(id).style.display="block"}function hide(id){return document.getElementById(id).style.display="none"}function calc(){get_refi_option(),get_new_loan_amount(),get_new_loan_term(),get_new_interest(),get_closing_costs(),calc_current_loan(),calc_new_loan()}function get_current_loan_program(){loan_program=get_inputValue("current-loan-program");var tabcontent=document.getElementsByClassName("tabcontent");for(i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none";show(loan_program),"Conventional"===loan_program?(hide("streamline"),document.getElementById("refi-option").value="Term Refinance",show("new-loan-term-select")):(show("streamline"),document.getElementById("refi-option").value="Streamline Refinance")}function get_current_loan_balance(){get_min_payment(),toString("Current-Loan-Balance",current_loan_balance,0),toString("Current-Loan-Balance-2",current_loan_balance,0),set_value("closing-costs",.02)}function get_current_loan_term(){get_min_payment(),document.getElementById("Current-Loan-Term-2").innerHTML=current_loan_term+" Yrs"}function get_current_interest(){get_min_payment(),toString("Current-Interest",current_interest,3),toString("Current-Interest-2",current_interest,3)}function get_min_payment(){current_loan_balance=Number(get_inputValue("current-loan-balance")),current_loan_term=Number(get_inputValue("current-loan-term")),current_interest=Number(get_inputValue("current-interest")),minimum_payment=calc_monthly_payment(current_loan_balance,current_loan_term,current_interest),document.getElementById("current-payment").min=minimum_payment,document.getElementById("current-payment").max=minimum_payment+1e3,set_value("current-payment",minimum_payment),toString("Current-Payment",minimum_payment,0),toString("Current-Payment-2",minimum_payment,0)}function get_current_payment(){current_payment=Number(get_inputValue("current-payment")),toString("Current-Payment",current_payment,0),toString("Current-Payment-2",current_payment,0)}function get_refi_option(){refi_option=get_inputValue("refi-option"),document.getElementById("refi-option-2").innerHTML=refi_option,"Streamline Refinance"===refi_option?(hide("new-loan-amount-select"),set_value("new-loan-amount",current_loan_balance),new_loan_amount=current_loan_balance,hide("new-loan-term-select"),set_value("new-loan-term",current_loan_term),new_loan_term=current_loan_term,"FHA"===loan_program?(max_interest=current_interest-.5,set_value("new-interest",max_interest),document.getElementById("new-interest").max=max_interest,new_interest=max_interest):(set_value("new-interest",current_interest),document.getElementById("new-interest").max=current_interest,new_interest=current_interest),hide("cash-out")):"Term Refinance"===refi_option?(hide("new-loan-amount-select"),set_value("new-loan-amount",current_loan_balance),new_loan_amount=current_loan_balance,show("new-loan-term-select"),document.getElementById("new-interest").max=current_interest,new_interest=current_interest,hide("cash-out")):(show("new-loan-amount-select"),show("new-loan-term-select"),document.getElementById("new-interest").max=10,new_interest=current_interest,show("cash-out")),toString("New-Loan-Amount",new_loan_amount,0),toString("New-Loan-Amount-2",new_loan_amount,0),document.getElementById("new-loan-term-2").innerHTML=new_loan_term+" Yrs",toString("New-Interest",new_interest,3),toString("New-Interest-2",new_interest,3),closing_costs=.02*new_loan_amount/100,toString("Closing-Costs",closing_costs,0),toString("Closing-Costs-2",closing_costs,0)}function get_new_loan_amount(){new_loan_amount=Number(get_inputValue("new-loan-amount")),toString("New-Loan-Amount",new_loan_amount,0),toString("New-Loan-Amount-2",new_loan_amount,0)}function get_new_loan_term(){new_loan_term=Number(get_inputValue("new-loan-term")),document.getElementById("new-loan-term-2").innerHTML=new_loan_term+" Yrs"}function get_new_interest(){new_interest=Number(get_inputValue("new-interest")),toString("New-Interest",new_interest,3),toString("New-Interest-2",new_interest,3)}function get_closing_costs(){closing_cost_percent=Number(get_inputValue("closing-costs")),closing_costs=closing_cost_percent*new_loan_amount/100,toString("Closing-Costs",closing_costs,0),toString("Closing-Costs-2",closing_costs,0)}function calc_current_loan(){var r=current_interest/1200,P=current_loan_balance,M=current_payment,L=-Math.log(1-r*P/M)/Math.log(1+r),years=Math.floor(L/12),months,yrsToPay=years+" years and "+Math.floor(12*(L/12-years))+" months";document.getElementById("years-to-pay").innerHTML=yrsToPay;var total_payment_current_loan=L*M,total_interest_current_loan;toString("total-payment-current-loan",total_payment_current_loan,0),toString("Current-Interest-Cost",total_payment_current_loan-current_loan_balance,0)}function calc_new_loan(){cash_at_closing=new_loan_amount-current_loan_balance,toString("cash-at-closing",cash_at_closing,0);var M=calc_monthly_payment(new_loan_amount,new_loan_term,new_interest);toString("new-monthly-payment",M,0);var total_payment_new_loan=M*new_loan_term*12,total_interest_new_loan;toString("total-payment-new-loan",total_payment_new_loan,0),toString("New-Interest-Cost",total_payment_new_loan-new_loan_amount,0)}function calc_monthly_payment(principal,years,interest_rate){var P,n=12*years,r=interest_rate/1200;return principal*r/(1-Math.pow(1/(1+r),n))}loan_program="FHA",current_loan_term="30",refi_option="Streamline Refinance",get_current_loan_program(),get_current_loan_balance(),get_current_loan_term(),get_current_interest(),get_current_payment(),calc();