function myFunction(){window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")}function init(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++)if(e[t].getAttribute("data-src")){e[t].setAttribute("src",e[t].getAttribute("data-src"));e[t].getAttribute("data-src")}}function slideshow(){setInterval(function(){nextSlide("refi-ss")},2e3)}function nextSlide(e){var t=document.getElementById(e).getElementsByClassName("slide");t.index=t.index||0,t[t.index].className="slide",t.index=(t.index+1)%t.length,t[t.index].className="slide showing"}function show_dti_message(e){slide_up(messages),slide_down(e)}function show_tab_content(e){slide_up(tabcontents),slide_down(e)}function slide_up(e){for(var t=0;t<e.length;t++)e[t].style.display="none",e[t].style.height="0px"}function slide_down(e){var t=document.getElementById(e);t.style.display="block",t.style.height=t.scrollHeight+"px"}function updateScrollHeight(e){var t=document.getElementById(e);t.style.height=t.scrollHeight+"px"}function get_id_value(e){return document.getElementById(e).value}function set_id_value(e,t){document.getElementById(e).value=t}function toString(e,t,n){document.getElementById(e).innerHTML=t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})}function show(e){document.getElementById(e).style.display="block"}function hide(e){document.getElementById(e).style.display="none"}function show_slide(e){calc(),slide_up(widget_slides),slide_down(e),document.getElementById("calculator").scrollIntoView()}function calc(){get_refi_option(),get_new_loan_amount(),get_new_loan_term(),get_new_interest(),get_closing_costs(),calc_current_loan(),calc_new_loan()}function get_current_loan_program(){loan_program=get_id_value("current-loan-program"),show_tab_content(loan_program),"Conventional"===loan_program?(hide("streamline"),document.getElementById("refi-option").value="Term Refinance",show("new-loan-term-select")):(show("streamline"),document.getElementById("refi-option").value="Streamline Refinance")}function get_current_loan_balance(){get_min_payment(),toString("Current-Loan-Balance",current_loan_balance,0),toString("Current-Loan-Balance-2",current_loan_balance,0),set_id_value("closing-costs",.02)}function get_current_loan_term(){get_min_payment(),document.getElementById("Current-Loan-Term-2").innerHTML=current_loan_term+" Yrs"}function get_current_interest(){get_min_payment(),toString("Current-Interest",current_interest,3),toString("Current-Interest-2",current_interest,3)}function get_min_payment(){current_loan_balance=Number(get_id_value("current-loan-balance")),current_loan_term=Number(get_id_value("current-loan-term")),current_interest=Number(get_id_value("current-interest")),minimum_payment=calc_monthly_payment(current_loan_balance,current_loan_term,current_interest),document.getElementById("current-payment").min=minimum_payment,document.getElementById("current-payment").max=minimum_payment+1e3,set_id_value("current-payment",minimum_payment),toString("Current-Payment",minimum_payment,0),toString("Current-Payment-2",minimum_payment,0)}function get_current_payment(){current_payment=Number(get_id_value("current-payment")),toString("Current-Payment",current_payment,0),toString("Current-Payment-2",current_payment,0)}function get_refi_option(){refi_option=get_id_value("refi-option"),document.getElementById("refi-option-2").innerHTML=refi_option,"Streamline Refinance"===refi_option?(hide("new-loan-amount-select"),set_id_value("new-loan-amount",current_loan_balance),new_loan_amount=current_loan_balance,hide("new-loan-term-select"),set_id_value("new-loan-term",current_loan_term),new_loan_term=current_loan_term,"FHA"===loan_program?(max_interest=current_interest-.5,set_id_value("new-interest",max_interest),document.getElementById("new-interest").max=max_interest,new_interest=max_interest):(set_id_value("new-interest",current_interest),document.getElementById("new-interest").max=current_interest,new_interest=current_interest),hide("cash-out")):"Term Refinance"===refi_option?(hide("new-loan-amount-select"),set_id_value("new-loan-amount",current_loan_balance),new_loan_amount=current_loan_balance,show("new-loan-term-select"),document.getElementById("new-interest").max=current_interest,new_interest=current_interest,hide("cash-out")):(show("new-loan-amount-select"),show("new-loan-term-select"),document.getElementById("new-interest").max=10,new_interest=current_interest,show("cash-out")),toString("New-Loan-Amount",new_loan_amount,0),toString("New-Loan-Amount-2",new_loan_amount,0),document.getElementById("new-loan-term-2").innerHTML=new_loan_term+" Yrs",toString("New-Interest",new_interest,3),toString("New-Interest-2",new_interest,3),closing_costs=.02*new_loan_amount/100,toString("Closing-Costs",closing_costs,0),toString("Closing-Costs-2",closing_costs,0),updateScrollHeight("new-loan")}function get_new_loan_amount(){new_loan_amount=Number(get_id_value("new-loan-amount")),toString("New-Loan-Amount",new_loan_amount,0),toString("New-Loan-Amount-2",new_loan_amount,0)}function get_new_loan_term(){new_loan_term=Number(get_id_value("new-loan-term")),document.getElementById("new-loan-term-2").innerHTML=new_loan_term+" Yrs"}function get_new_interest(){new_interest=Number(get_id_value("new-interest")),toString("New-Interest",new_interest,3),toString("New-Interest-2",new_interest,3)}function get_closing_costs(){closing_cost_percent=Number(get_id_value("closing-costs")),closing_costs=closing_cost_percent*new_loan_amount/100,toString("Closing-Costs",closing_costs,0),toString("Closing-Costs-2",closing_costs,0)}function calc_current_loan(){var e=current_interest/1200,t=current_loan_balance,n=current_payment,o=-Math.log(1-e*t/n)/Math.log(1+e),r=Math.floor(o/12),a=Math.floor(12*(o/12-r)),i=r+" years and "+a+" months";document.getElementById("years-to-pay").innerHTML=i;var l=o*n;toString("total-payment-current-loan",l,0);var _=l-current_loan_balance;toString("Current-Interest-Cost",_,0)}function calc_new_loan(){cash_at_closing=new_loan_amount-current_loan_balance,toString("cash-at-closing",cash_at_closing,0);var e=calc_monthly_payment(new_loan_amount,new_loan_term,new_interest);toString("new-monthly-payment",e,0);var t=e*new_loan_term*12;toString("total-payment-new-loan",t,0);var n=t-new_loan_amount;toString("New-Interest-Cost",n,0)}function calc_monthly_payment(e,t,n){var o=e,r=12*t,a=n/1200;return o*a/(1-Math.pow(1/(1+a),r))}window.onscroll=function(){myFunction()};var header=document.getElementById("myHeader"),sticky=header.offsetTop;init(),onload=slideshow;const calculator="refi-calc",widget_slides=document.getElementById(calculator).getElementsByClassName("widget-slide"),tabcontents=document.getElementById(calculator).getElementsByClassName("tabcontent");loan_program="FHA",current_loan_term="30",refi_option="Streamline Refinance",get_current_loan_program(),get_current_loan_balance(),get_current_loan_term(),get_current_interest(),get_current_payment(),calc(),slide_up(widget_slides),slide_down("slide-1");