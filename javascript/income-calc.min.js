function slideshow(){setInterval(function(){nextSlide("calc-ss"),nextSlide("home-valuation-ss"),nextSlide("service-ss"),nextSlide("dpa-ss"),nextSlide("refinance-ss"),nextSlide("sfr-ss"),nextSlide("flyer-ss")},2e3)}function nextSlide(e){var t=document.getElementById(e).getElementsByClassName("slide");t.index=t.index||0,t[t.index].className="slide",t.index=(t.index+1)%t.length,t[t.index].className="slide showing"}function show_dti_message(e){slide_up(messages),slide_down(e)}function show_tab_content(e){slide_up(tabcontents),slide_down(e)}function slide_up(e){for(var t=0;t<e.length;t++)e[t].style.display="none",e[t].style.height="0px"}function slide_down(e){var t=document.getElementById(e);t.style.display="block",t.style.height=t.scrollHeight+"px"}function get_id_value(e){return document.getElementById(e).value}function set_id_value(e,t){document.getElementById(e).value=t}function toString(e,t,n){document.getElementById(e).innerHTML=t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})}function show(e){document.getElementById(e).style.display="block"}function hide(e){document.getElementById(e).style.display="none"}function show_slide(e){slide_up(widget_slides),slide_down(e),document.getElementById(calculator).scrollIntoView(),initialize()}function initialize(){get_loan_program(),get_loan_term(),get_sales_price(),get_down_payment_percent(),get_mi_rate(),get_interest_rate(),get_property_tax_rate(),get_lenders_required_dti()}function get_loan_program(){loan_program=document.getElementById("mySelect").value,show_tab_content(loan_program),"FHA"===loan_program?(document.getElementById("dp").min=3.5,document.getElementById("DP%").innerHTML="3.5"):"VA"===loan_program||"USDA"===loan_program?(document.getElementById("dp").min=0,document.getElementById("DP%").innerHTML="0.0"):"Conventional"===loan_program?(document.getElementById("dp").min=3,document.getElementById("DP%").innerHTML="3.0"):"Jumbo"===loan_program&&(document.getElementById("dp").min=10,document.getElementById("DP%").innerHTML="10.0"),"Jumbo"===loan_program?(document.getElementById("pp").min=5e5,document.getElementById("pp").max=2e6):(document.getElementById("pp").min=1e5,document.getElementById("pp").max=1e6)}function get_loan_term(){loan_term=get_id_value("mySelect2")}function get_sales_price(){purchase_price=Number(get_id_value("pp")),toString("PP",purchase_price,0),"Jumbo"!==loan_program&&purchase_price>417e3?show("loanMaxNote"):hide("loanMaxNote"),"Jumbo"===loan_program&&purchase_price<484350?show("jumboLoan"):hide("jumboLoan")}function get_down_payment_percent(){down_payment_percent=Number(get_id_value("dp")),loan_to_value=100-down_payment_percent,toString("DP%",down_payment_percent,1),toString("LTV",loan_to_value,1)}function get_mi_rate(){"FHA"===loan_program&&down_payment_percent<5?mi_rate=.85:"FHA"===loan_program&&down_payment_percent>=5?mi_rate=.8:"VA"===loan_program?mi_rate=0:"USDA"===loan_program?mi_rate=.35:"Conventional"===loan_program&&down_payment_percent>=20?mi_rate=0:"Jumbo"===loan_program&&down_payment_percent>=20?mi_rate=0:mi_rate=Number(get_id_value("mi")),toString("MI%",mi_rate,2)}function get_interest_rate(){interest_rate=Number(get_id_value("apr")),toString("APR%",interest_rate,3)}function get_property_tax_rate(){property_tax_rate=Number(get_id_value("pt")),toString("PT%",property_tax_rate,2)}function get_lenders_required_dti(){qualifying_front_ratio=Number(get_id_value("efr")),qualifying_back_ratio=Number(get_id_value("ebr")),toString("EFR%",qualifying_front_ratio,0),qualifying_front_ratio>qualifying_back_ratio&&(document.getElementById("ebr").value=qualifying_front_ratio,qualifying_back_ratio=Number(get_id_value("ebr"))),toString("EBR%",qualifying_back_ratio,0)}function get_liability(){return auto_loan=Number(get_id_value("auto_loan")),auto_loan<0?(alert("Please enter only positive number"),auto_loan=0,void set_id_value("auto_loan","")):(student_loan=Number(get_id_value("student_loan")),student_loan<0?(alert("Please enter only positive number"),student_loan=0,void set_id_value("student_loan","")):(installment_loan=Number(get_id_value("installment_loan")),installment_loan<0?(alert("Please enter only positive number"),installment_loan=0,void set_id_value("installment_loan","")):(revolving_account=Number(get_id_value("revolving_account")),revolving_account<0?(alert("Please enter only positive number"),revolving_account=0,void set_id_value("revolving_account","")):(other_debt=Number(get_id_value("other_debt")),other_debt<0?(alert("Please enter only positive number"),other_debt=0,void set_id_value("other_debt","")):(total_monthly_liability=auto_loan+student_loan+installment_loan+revolving_account+other_debt,toString("ML",total_monthly_liability,0),calc(),void show_slide("calc-results"))))))}function calc(){var e=12*loan_term,t=interest_rate/1200,n=purchase_price*(down_payment_percent/100);toString("DP",n,0),loan_amount=purchase_price-n,toString("LA",loan_amount,0),"Jumbo"!==loan_program&&loan_amount>417e3?show("loanMaxNote"):hide("loanMaxNote"),"Jumbo"===loan_program&&loan_amount<484350?show("jumboLoan"):hide("jumboLoan");var o=loan_amount*t/(1-Math.pow(1/(1+t),e));toString("PI",o,2);var a=property_tax_rate*purchase_price/1200;toString("T",a,2);var i=mi_rate*loan_amount/1200;toString("I",i,2);var l=loan_amount*(.25/1200);toString("HOI",l,2),housing_expense=o+a+i+l,toString("MP",housing_expense,2);var r=qualifying_front_ratio/100,_=qualifying_back_ratio/100,m=_-r;total_monthly_liability>housing_expense*(m/r)?required_monthly_income=(housing_expense+total_monthly_liability)/_:required_monthly_income=housing_expense/r,toString("TMI",required_monthly_income,2)}onload=slideshow;const calculator="mortgage-income-widget",widget_slides=document.getElementById(calculator).getElementsByClassName("widget-slide"),tabcontents=document.getElementById(calculator).getElementsByClassName("tabcontent"),messages=document.getElementById("dti_messages").getElementsByClassName("message"),flyers=document.getElementById("flyers").getElementsByClassName("collapsible"),contents=document.getElementById("flyers").getElementsByClassName("content");for(let e=0;e<flyers.length;e++)flyers[e].addEventListener("click",function(){for(let e=0;e<contents.length;e++)contents[e].style.height="0px";if(this.classList.contains("active"))this.classList.remove("active");else{for(let e=0;e<flyers.length;e++)flyers[e].classList.remove("active");this.classList.toggle("active");var e=this.nextElementSibling;e.style.height=e.scrollHeight+"px"}});document.getElementById("HomeSearchBtnWidget").onclick=function(e){var t=document.getElementById("SearchTextWidget").value;""===t||void 0===t?(document.querySelector("#home-search-form #SearchValidationError").style.display="block",window.event.preventDefault()):document.querySelector("#home-search-form #SearchValidationError").style.display="none"},initialize(),slide_up(widget_slides),slide_down("slide-1");