function current_date_time(){var d=new Date,day=d.getDay(),hour=d.getHours();6==day&&hour>=18?open_monday():0==day?open_tomorrow():hour<10?open_soon():hour>=18?open_tomorrow():show_phone()}function open_monday(){show("opening_monday"),hide("opening_tomorrow"),hide("opening_soon"),hide_phone()}function open_tomorrow(){hide("opening_monday"),show("opening_tomorrow"),hide("opening_soon"),hide_phone()}function open_soon(){hide("opening_monday"),hide("opening_tomorrow"),show("opening_soon"),hide_phone()}function open(){hide("opening_monday"),hide("opening_tomorrow"),hide("opening_soon"),show_phone()}function hide_phone(){hide("phone"),hide("mobile-phone"),show("mobile-sms-email")}function show_phone(){show("phone"),show("mobile-phone"),hide("mobile-sms-email")}function slideshow(){setInterval(function(){nextSlide("calc-ss"),nextSlide("home-valuation-ss"),nextSlide("service-ss"),nextSlide("dpa-ss"),nextSlide("refinance-ss"),nextSlide("sfr-ss"),nextSlide("flyer-ss")},2e3)}function nextSlide(id){var elems=document.getElementById(id).getElementsByClassName("slide");elems.index=elems.index||0,elems[elems.index].className="slide",elems.index=(elems.index+1)%elems.length,elems[elems.index].className="slide showing"}setInterval(current_date_time,1e3),onload=slideshow;const calculator="mortgage-income-widget",widget_slides=document.getElementById(calculator).getElementsByClassName("widget-slide"),tabcontents=document.getElementById(calculator).getElementsByClassName("tabcontent"),messages=document.getElementById("dti_messages").getElementsByClassName("message");function show_dti_message(id){slide_up(messages),slide_down(id)}function show_tab_content(id){slide_up(tabcontents),slide_down(id)}function slide_up(array){for(var i=0;i<array.length;i++)array[i].style.display="none",array[i].style.height="0px"}function slide_down(id){var content=document.getElementById(id);content.style.display="block",content.style.height=content.scrollHeight+"px"}function collapsible(idName,className,className2){const array=document.getElementById(idName).getElementsByClassName(className),contents=document.getElementById(idName).getElementsByClassName(className2);for(let i=0;i<array.length;i++)array[i].addEventListener("click",function(){for(let j=0;j<contents.length;j++)contents[j].style.height="0px";if(this.classList.contains("active"))this.classList.remove("active");else{for(let k=0;k<array.length;k++)array[k].classList.remove("active");this.classList.toggle("active");var content=this.nextElementSibling;content.style.height=content.scrollHeight+"px"}})}function get_id_value(id){return document.getElementById(id).value}function set_id_value(id,value){document.getElementById(id).value=value}function toString(id,value,digit){document.getElementById(id).innerHTML=value.toLocaleString(void 0,{minimumFractionDigits:digit,maximumFractionDigits:digit})}function show(id){document.getElementById(id).style.display="block"}function hide(id){document.getElementById(id).style.display="none"}function updateScrollHeight(id){var content=document.getElementById(id);content.style.height=content.scrollHeight+"px"}function show_slide(id){slide_up(widget_slides),slide_down(id),document.getElementById(calculator).scrollIntoView(),initialize()}function initialize(){get_loan_program(),get_loan_term(),get_sales_price(),get_down_payment_percent(),get_mi_rate(),get_interest_rate(),get_property_tax_rate(),get_lenders_required_dti()}function get_loan_program(){loan_program=document.getElementById("mySelect").value,show_tab_content(loan_program),"FHA"===loan_program?(document.getElementById("dp").min=3.5,document.getElementById("DP%").innerHTML="3.5"):"VA"===loan_program||"USDA"===loan_program?(document.getElementById("dp").min=0,document.getElementById("DP%").innerHTML="0.0"):"Conventional"===loan_program?(document.getElementById("dp").min=3,document.getElementById("DP%").innerHTML="3.0"):"Jumbo"===loan_program&&(document.getElementById("dp").min=10,document.getElementById("DP%").innerHTML="10.0"),"Jumbo"===loan_program?(document.getElementById("pp").min=5e5,document.getElementById("pp").max=2e6):(document.getElementById("pp").min=1e5,document.getElementById("pp").max=1e6)}function get_loan_term(){loan_term=get_id_value("mySelect2")}function get_sales_price(){purchase_price=Number(get_id_value("pp")),toString("PP",purchase_price,0),"Jumbo"!==loan_program&&purchase_price>417e3?show("loanMaxNote"):hide("loanMaxNote"),"Jumbo"===loan_program&&purchase_price<484350?show("jumboLoan"):hide("jumboLoan")}function get_down_payment_percent(){down_payment_percent=Number(get_id_value("dp")),loan_to_value=100-down_payment_percent,toString("DP%",down_payment_percent,1),toString("LTV",loan_to_value,1)}function get_mi_rate(){"FHA"===loan_program&&down_payment_percent<5?mi_rate=.85:"FHA"===loan_program&&down_payment_percent>=5?mi_rate=.8:"VA"===loan_program?mi_rate=0:"USDA"===loan_program?mi_rate=.35:"Conventional"===loan_program&&down_payment_percent>=20?mi_rate=0:"Jumbo"===loan_program&&down_payment_percent>=20?mi_rate=0:mi_rate=Number(get_id_value("mi")),toString("MI%",mi_rate,2)}function get_interest_rate(){interest_rate=Number(get_id_value("apr")),toString("APR%",interest_rate,3)}function get_property_tax_rate(){property_tax_rate=Number(get_id_value("pt")),toString("PT%",property_tax_rate,2)}function get_lenders_required_dti(){qualifying_front_ratio=Number(get_id_value("efr")),qualifying_back_ratio=Number(get_id_value("ebr")),toString("EFR%",qualifying_front_ratio,0),qualifying_front_ratio>qualifying_back_ratio&&(document.getElementById("ebr").value=qualifying_front_ratio,qualifying_back_ratio=Number(get_id_value("ebr"))),toString("EBR%",qualifying_back_ratio,0)}function get_liability(){return auto_loan=Number(get_id_value("auto_loan")),auto_loan<0?(alert("Please enter only positive number"),auto_loan=0,void set_id_value("auto_loan","")):(student_loan=Number(get_id_value("student_loan")),student_loan<0?(alert("Please enter only positive number"),student_loan=0,void set_id_value("student_loan","")):(installment_loan=Number(get_id_value("installment_loan")),installment_loan<0?(alert("Please enter only positive number"),installment_loan=0,void set_id_value("installment_loan","")):(revolving_account=Number(get_id_value("revolving_account")),revolving_account<0?(alert("Please enter only positive number"),revolving_account=0,void set_id_value("revolving_account","")):(other_debt=Number(get_id_value("other_debt")),other_debt<0?(alert("Please enter only positive number"),other_debt=0,void set_id_value("other_debt","")):(total_monthly_liability=auto_loan+student_loan+installment_loan+revolving_account+other_debt,toString("ML",total_monthly_liability,0),calc(),void show_slide("calc-results"))))))}function calc(){var n=12*loan_term,r=interest_rate/1200,down_payment_dollar=purchase_price*(down_payment_percent/100);toString("DP",down_payment_dollar,0),loan_amount=purchase_price-down_payment_dollar,toString("LA",loan_amount,0),"Jumbo"!==loan_program&&loan_amount>417e3?show("loanMaxNote"):hide("loanMaxNote"),"Jumbo"===loan_program&&loan_amount<484350?show("jumboLoan"):hide("jumboLoan");var PI=loan_amount*r/(1-Math.pow(1/(1+r),n));toString("PI",PI,2);var T=property_tax_rate*purchase_price/1200;toString("T",T,2);var I=mi_rate*loan_amount/1200;toString("I",I,2);var HOI=loan_amount*(.25/1200);toString("HOI",HOI,2),housing_expense=PI+T+I+HOI,toString("MP",housing_expense,2);var a1=qualifying_front_ratio/100,a2=qualifying_back_ratio/100,a3;total_monthly_liability>housing_expense*((a2-a1)/a1)?required_monthly_income=(housing_expense+total_monthly_liability)/a2:required_monthly_income=housing_expense/a1,toString("TMI",required_monthly_income,2)}collapsible("flyers","collapsible","content"),document.getElementById("HomeSearchBtnWidget").onclick=function(event){var searchText=document.getElementById("SearchTextWidget").value;""===searchText||void 0===searchText?(document.querySelector("#home-search-form #SearchValidationError").style.display="block",window.event.preventDefault()):document.querySelector("#home-search-form #SearchValidationError").style.display="none"},initialize(),slide_up(widget_slides),slide_down("slide-1");