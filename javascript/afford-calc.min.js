document.getElementById("HomeSearchBtnWidget").onclick=function(event){var searchText=document.getElementById("SearchTextWidget").value;""===searchText||void 0===searchText?(document.querySelector("#home-search-form #SearchValidationError").style.display="block",window.event.preventDefault()):document.querySelector("#home-search-form #SearchValidationError").style.display="none"},btns=document.getElementById("main-dti-select").getElementsByClassName("selectable");for(var i=0;i<btns.length;i++)btns[i].addEventListener("click",function(){this.classList.toggle("active")});for(var btns=document.getElementById("afford-calc-widget").getElementsByClassName("selectable"),i=0;i<btns.length;i++)btns[i].addEventListener("click",function(){var current=document.getElementsByClassName("active");current[0].className=current[0].className.replace(" active",""),this.className+=" active"});for(var flyers=document.getElementById("flyers").getElementsByClassName("collapsible"),i=0;i<flyers.length;i++)flyers[i].addEventListener("click",function(){for(var contents=document.getElementById("flyers").getElementsByClassName("content"),j=0;j<contents.length;j++)contents[j].style.maxHeight=null;if(this.classList.contains("active"))this.classList.remove("active");else{for(var k=0;k<flyers.length;k++)flyers[k].classList.remove("active");this.classList.toggle("active");var content=this.nextElementSibling;content.style.maxHeight=content.scrollHeight+"px"}});function start(){income1=0,income2=0,income3=0,income4=0,income5=0,total_monthly_income=0,monthly_liability=0,auto_loan=0,student_loan=0,installment_loan=0,revolving_account=0,other_debt=0,total_monthly_liability=0,document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,document.getElementById("inc_1").innerHTML=0,document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,document.getElementById("inc_2").innerHTML=0,document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,document.getElementById("inc_3").innerHTML=0,document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,document.getElementById("inc_4").innerHTML=0,document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,document.getElementById("inc_5").innerHTML=0,document.getElementById("a3a").value="",document.getElementById("a3b").value="",document.getElementById("a4").value="",document.getElementById("a5").value="",document.getElementById("a6").value="",document.getElementById("a7").value="",document.getElementById("a8a").value="",document.getElementById("a8b").value="",document.getElementById("a9a").value="",document.getElementById("a9b").value="",get_input()}function get_input(){var i,tabcontent=document.getElementById("loan-programs").getElementsByClassName("tabcontent");for(i=0;i<tabcontent.length;i++)$(tabcontent[i]).hide();loan_program=document.getElementById("mySelect").value,document.getElementById(loan_program).style.display="block","FHA"===loan_program?(document.getElementById("dp").min=3.5,document.getElementById("DP%").innerHTML="3.5"):"VA"===loan_program||"USDA"===loan_program?(document.getElementById("dp").min=0,document.getElementById("DP%").innerHTML="0.0"):"Conventional"===loan_program?(document.getElementById("dp").min=3,document.getElementById("DP%").innerHTML="3.0"):"Jumbo"===loan_program&&(document.getElementById("dp").min=10,document.getElementById("DP%").innerHTML="10.0"),loan_term=document.getElementById("mySelect2").value,interest_rate=Number(document.getElementById("apr").value),document.getElementById("APR%").innerHTML=interest_rate.toFixed(3),down_payment_percent=Number(document.getElementById("dp").value),loan_to_value=100-down_payment_percent,document.getElementById("LTV").innerHTML=loan_to_value.toFixed(1),"FHA"===loan_program&&down_payment_percent<3.5&&(down_payment_percent=3.5),"Conventional"===loan_program&&down_payment_percent<3&&(down_payment_percent=3),"Jumbo"===loan_program&&down_payment_percent<10&&(down_payment_percent=10),document.getElementById("DP%").innerHTML=down_payment_percent.toFixed(1),"VA"===loan_program?mi_rate=0:"FHA"===loan_program&&down_payment_percent<5?mi_rate=.85:"FHA"===loan_program&&down_payment_percent>=5?mi_rate=.8:"USDA"===loan_program?mi_rate=.35:"Conventional"===loan_program&&down_payment_percent>=20?mi_rate=0:"Jumbo"===loan_program&&down_payment_percent>=20?mi_rate=0:mi_rate=Number(document.getElementById("mi").value),document.getElementById("MI%").innerHTML=mi_rate.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),qualifying_front_ratio=Number(document.getElementById("efr").value),qualifying_back_ratio=Number(document.getElementById("ebr").value),document.getElementById("EFR").innerHTML=qualifying_front_ratio.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),qualifying_front_ratio>qualifying_back_ratio&&(document.getElementById("ebr").value=qualifying_front_ratio,qualifying_back_ratio=Number(document.getElementById("ebr").value)),document.getElementById("EBR").innerHTML=qualifying_back_ratio.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}function start_over(){start(),show_slide("slide-1")}function show_slide(id){var element;hide_calc_slides(),$("#"+id).slideDown("slow"),document.getElementById("afford-calc-widget").scrollIntoView(),get_input()}function hide_calc_slides(){for(var widget_slides=document.getElementById("afford-calc-widget").getElementsByClassName("widget-slide"),i=0;i<widget_slides.length;i++)$(widget_slides[i]).hide()}function show_income_source(){0===total_monthly_income?show_income_1():show_income_summary()}function show_income_tab(){hide_calc_slides(),$("#income_info").slideDown("slow"),document.getElementById("afford-calc-widget").scrollIntoView(),get_employment_type()}function show_income_1(){income_source="Income 1",document.getElementById("income-source").innerHTML="Income 1",document.getElementById("remove").style.display="none",show_income_tab()}function show_income_2(){income_source="Income 2",document.getElementById("income-source").innerHTML="Income 2",document.getElementById("remove").style.display="block",show_income_tab()}function show_income_3(){income_source="Income 3",document.getElementById("income-source").innerHTML="Income 3",document.getElementById("remove").style.display="block",show_income_tab()}function show_income_4(){income_source="Income 4",document.getElementById("income-source").innerHTML="Income 4",document.getElementById("remove").style.display="block",show_income_tab()}function show_income_5(){income_source="Income 5",document.getElementById("income-source").innerHTML="Income 5",document.getElementById("remove").style.display="block",show_income_tab()}function show_income_summary(){update_income(),hide_calc_slides(),$("#income-summary").slideDown("slow"),document.getElementById("afford-calc-widget").scrollIntoView(),0===income2?document.getElementById("income-2-details").style.display="none":document.getElementById("income-2-details").style.display="block",0===income3?document.getElementById("income-3-details").style.display="none":document.getElementById("income-3-details").style.display="block",0===income4?document.getElementById("income-4-details").style.display="none":document.getElementById("income-4-details").style.display="block",0===income5?document.getElementById("income-5-details").style.display="none":document.getElementById("income-5-details").style.display="block"}function get_employment_type(){employmentType=document.getElementById("a2").value,"Hourly"===employmentType?show_hourly_pay():"Weekly"===employmentType?show_weekly_pay():"Semi-Weekly"===employmentType?show_semi_weekly_pay():"Monthly"===employmentType?show_monthly_pay():"Annually"===employmentType?show_annual_pay():"1099 Employee"===employmentType?show_variable_pay():"Self-Employed"===employmentType&&show_variable_pay()}function clear_inc_source(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("inputValue3"),i=0;i<tabcontent.length;i++)tabcontent[i].value="";"Income 1"===income_source?(document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,income1=0):"Income 2"===income_source?(document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,income2=0,document.getElementById("inc_2").innerHTML=0):"Income 3"===income_source?(document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,income3=0,document.getElementById("inc_3").innerHTML=0):"Income 4"===income_source?(document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,income4=0,document.getElementById("inc_4").innerHTML=0):"Income 5"===income_source&&(document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,income5=0,document.getElementById("inc_5").innerHTML=0),show_income_summary()}function calc_inc_source(){if("Hourly"===employmentType){if(hr=Number(document.getElementById("a3a").value),hpw=Number(document.getElementById("a3b").value),hr<=0)return alert("Please enter valid Hourly Rate"),document.getElementById("a3a").value="",void(hr=0);if(hpw<=0||hpw>168)return alert("Please enter valid Hours Per Week"),document.getElementById("a3b").value="",void(hpw=0);w2=hr*hpw*52/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Weekly"===employmentType){if(wp=Number(document.getElementById("a4").value),wp<=0)return alert("Please enter valid Weekly Rate"),document.getElementById("a4").value="",void(wp=0);w2=52*wp/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Semi-Weekly"===employmentType){if(swp=Number(document.getElementById("a5").value),swp<=0)return alert("Please enter valid Semi-Weekly Rate"),document.getElementById("a5").value="",void(swp=0);w2=26*swp/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Monthly"===employmentType){if(mp=Number(document.getElementById("a6").value),mp<=0)return alert("Please enter valid Monthly Salary"),document.getElementById("a6").value="",void(mp=0);w2=mp,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Annually"===employmentType){if(ap=Number(document.getElementById("a7").value),ap<=0)return alert("Please enter valid Annual Salary"),document.getElementById("a7").value="",void(ap=0);w2=ap/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("1099 Employee"===employmentType){if(w2=0,vp1=Number(document.getElementById("a9a").value),vp2=Number(document.getElementById("a9b").value),vp1<=0||vp2<=0)return void alert("Please enter required income for 2 years");vp=(vp1+vp2)/24}else if("Self-Employed"===employmentType){if(w2=0,vp1=Number(document.getElementById("a9a").value),vp2=Number(document.getElementById("a9b").value),vp1<=0||vp2<=0)return void alert("Please enter required income for 2 years");vp=(vp1+vp2)/24}inc=w2+vp,"Income 1"===income_source?(document.getElementById("I1").style.display="block",document.getElementById("inc_1").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i1_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i1_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income1=inc):"Income 2"===income_source?(document.getElementById("I2").style.display="block",document.getElementById("inc_2").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i2_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i2_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income2=inc):"Income 3"===income_source?(document.getElementById("I3").style.display="block",document.getElementById("inc_3").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i3_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i3_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income3=inc):"Income 4"===income_source?(document.getElementById("I4").style.display="block",document.getElementById("inc_4").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i4_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i4_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income4=inc):"Income 5"===income_source&&(document.getElementById("I5").style.display="block",document.getElementById("inc_5").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i5_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i5_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income5=inc),show_income_summary()}function update_income(){total_monthly_income=income1+income2+income3+income4+income5,document.getElementById("total-income").innerHTML=total_monthly_income.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function update_liability(){auto_loan=Number(document.getElementById("auto_loan").value),auto_loan<0&&(alert("Please enter only positive number"),document.getElementById("auto_loan").value="",auto_loan=0),student_loan=Number(document.getElementById("student_loan").value),student_loan<0&&(alert("Please enter only positive number"),document.getElementById("student_loan").value="",student_loan=0),installment_loan=Number(document.getElementById("installment_loan").value),installment_loan<0&&(alert("Please enter only positive number"),document.getElementById("installment_loan").value="",installment_loan=0),revolving_account=Number(document.getElementById("revolving_account").value),revolving_account<0&&(alert("Please enter only positive number"),document.getElementById("revolving_account").value="",revolving_account=0),other_debt=Number(document.getElementById("other_debt").value),other_debt<0&&(alert("Please enter only positive number"),document.getElementById("other_debt").value="",other_debt=0),total_monthly_liability=auto_loan+student_loan+installment_loan+revolving_account+other_debt,document.getElementById("ML").innerHTML=total_monthly_liability.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),calc_dti(),afford_calc(),show_slide("calc-results")}function calc_dti(){var a1=qualifying_front_ratio/100,a2=qualifying_back_ratio/100;liability_allowance=(qualifying_back_ratio-qualifying_back_ratio)*total_monthly_income;var a3,a4=total_monthly_liability/total_monthly_income;a4<a2-a1?(total_monthly_payment_allowed=total_monthly_income*a1+total_monthly_liability,final_front_ratio=100*a1,final_back_ratio=100*(a1+a4)):(total_monthly_payment_allowed=total_monthly_income*a2,final_back_ratio=100*a2,final_front_ratio=100*(a2-a4))}function afford_calc(){var LTV,ltv=loan_to_value/100,pt=1.25/1200,r=interest_rate/1200,n=12*loan_term,k1=r/(1-Math.pow(1/(1+r),n)),k2=pt*(1+down_payment_percent/100),k3=.25/1200;loan_amount=(total_monthly_payment_allowed-total_monthly_liability)/(k1+k2+mi_rate/1200+k3),loan_amount<=0&&(loan_amount=0),document.getElementById("P").innerHTML=loan_amount.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),"Jumbo"!==loan_program&&loan_amount>417e3?document.getElementById("loanMaxNote").style.display="block":document.getElementById("loanMaxNote").style.display="none","Jumbo"===loan_program&&loan_amount<484350?document.getElementById("jumboLoan").style.display="block":document.getElementById("jumboLoan").style.display="none";var M=loan_amount*k1;document.getElementById("M").innerHTML=M.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});var HV=loan_amount/ltv;document.getElementById("HV").innerHTML=HV.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});var DP=HV-loan_amount;document.getElementById("DP").innerHTML=DP.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0});var T=loan_amount*k2;document.getElementById("T").innerHTML=T.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});var I=loan_amount*(mi_rate/1200);document.getElementById("I").innerHTML=I.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});var HOI=loan_amount*k3;document.getElementById("HOI").innerHTML=HOI.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});var MP=M+T+I+HOI;document.getElementById("MP").innerHTML=MP.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function remove_income(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("inputValue3"),i=0;i<tabcontent.length;i++)tabcontent[i].value="";if(income_source=document.getElementById("a1").value,"Income 1"===income_source&&(document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,document.getElementById("I1").style.display="none",income1=0),"Income 2"===income_source&&(document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,document.getElementById("I2").style.display="none",income2=0),"Income 3"===income_source&&(document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,document.getElementById("I3").style.display="none",income3=0),"Income 4"===income_source&&(document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,document.getElementById("I4").style.display="none",income4=0),"Income 5"===income_source&&(document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,document.getElementById("I5").style.display="none",income5=0),total_monthly_income=income1+income2+income3+income4+income5,document.getElementById("total-income").innerHTML=total_monthly_income.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),0==total_monthly_income)return document.getElementById("income-summary").style.display="none",document.getElementById("HV").innerHTML="0.00",document.getElementById("calc-results").style.display="none",document.getElementById("FR").innerHTML="NA",document.getElementById("AFR").value=100,document.getElementById("BR").innerHTML="NA",void(document.getElementById("ABR").value=100);calc_dti(),afford_calc(),show_slide("calc-results")}function get_income_source(){income_source=document.getElementById("a1").value}function hide_income_input(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("incomeField"),i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none"}function show_dti_message_1(){$("#dti_message_1").slideDown("slow"),$("#dti_message_2").hide(),$("#dti_message_3").hide()}function show_dti_message_2(){$("#dti_message_1").hide(),$("#dti_message_2").slideDown("slow"),$("#dti_message_3").hide()}function show_dti_message_3(){$("#dti_message_1").hide(),$("#dti_message_2").hide(),$("#dti_message_3").slideDown("slow")}function show_hourly_pay(){hide_income_input(),document.getElementById("q2").style.display="block",document.getElementById("q3").style.display="block",document.getElementById("q8").style.display="block"}function show_weekly_pay(){hide_income_input(),document.getElementById("q4").style.display="block",document.getElementById("q8").style.display="block"}function show_semi_weekly_pay(){hide_income_input(),document.getElementById("q5").style.display="block",document.getElementById("q8").style.display="block"}function show_monthly_pay(){hide_income_input(),document.getElementById("q6").style.display="block",document.getElementById("q8").style.display="block"}function show_annual_pay(){hide_income_input(),document.getElementById("q7").style.display="block",document.getElementById("q8").style.display="block"}function show_variable_pay(){hide_income_input(),document.getElementById("q9").style.display="block"}hide_calc_slides(),$("#slide-1").slideDown("slow"),start();