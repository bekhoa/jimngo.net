function current_date_time(){var d=new Date,day=d.getDay(),hour=d.getHours();6==day&&hour>=18?hide_phone():0==day?hide_phone():hour<10?hide_phone():hour>=18?hide_phone():show_phone()}function hide_phone(){show("text"),hide("call"),show("email")}function show_phone(){show("text"),show("call"),show("email")}function init(){for(var imgDefer=document.getElementsByTagName("img"),i=0;i<imgDefer.length;i++)if(imgDefer[i].getAttribute("data-src")){imgDefer[i].setAttribute("src",imgDefer[i].getAttribute("data-src"));var src=imgDefer[i].getAttribute("data-src")}}function slideshow(){setInterval((function(){nextSlide("calc-ss")}),2e3)}function nextSlide(id){var elems=document.getElementById(id).getElementsByClassName("slide");elems.index=elems.index||0,elems[elems.index].className="slide",elems.index=(elems.index+1)%elems.length,elems[elems.index].className="slide showing"}setInterval(current_date_time,1e3),init(),onload=slideshow;const calculator="afford-calc-widget",widget_slides=document.getElementById(calculator).getElementsByClassName("widget-slide"),tabcontents=document.getElementById(calculator).getElementsByClassName("tabcontent"),messages=document.getElementById("dti_messages").getElementsByClassName("message");function show_dti_message(id){slide_up(messages),slide_down(id)}function show_tab_content(id){slide_up(tabcontents),slide_down(id)}function slide_up(array){for(var i=0;i<array.length;i++)array[i].style.display="none",array[i].style.height="0px"}function slide_down(id){var content=document.getElementById(id);content.style.display="block",content.style.height=content.scrollHeight+"px"}function get_id_value(id){return document.getElementById(id).value}function set_id_value(id,value){document.getElementById(id).value=value}function toString(id,value,digit){document.getElementById(id).innerHTML=value.toLocaleString(void 0,{minimumFractionDigits:digit,maximumFractionDigits:digit})}function show(id){document.getElementById(id).style.display="block"}function hide(id){document.getElementById(id).style.display="none"}function updateScrollHeight(id){var content=document.getElementById(id);content.style.height=content.scrollHeight+"px"}function show_slide(id){slide_up(widget_slides),slide_down(id),document.getElementById("calculator").scrollIntoView()}function start(){income1=0,income2=0,income3=0,income4=0,income5=0,total_monthly_income=0,monthly_liability=0,auto_loan=0,student_loan=0,installment_loan=0,revolving_account=0,other_debt=0,total_monthly_liability=0,document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,document.getElementById("inc_1").innerHTML=0,document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,document.getElementById("inc_2").innerHTML=0,document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,document.getElementById("inc_3").innerHTML=0,document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,document.getElementById("inc_4").innerHTML=0,document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,document.getElementById("inc_5").innerHTML=0,document.getElementById("a3a").value="",document.getElementById("a3b").value="",document.getElementById("a4").value="",document.getElementById("a5").value="",document.getElementById("a6").value="",document.getElementById("a7").value="",document.getElementById("a8a").value="",document.getElementById("a8b").value="",document.getElementById("a9a").value="",document.getElementById("a9b").value="",get_input()}function get_input(){loan_program=get_id_value("mySelect"),show_tab_content(loan_program),"FHA"===loan_program?(document.getElementById("dp").min=3.5,document.getElementById("DP%").innerHTML="3.5"):"VA"===loan_program||"USDA"===loan_program?(document.getElementById("dp").min=0,document.getElementById("DP%").innerHTML="0.0"):"Conventional"===loan_program?(document.getElementById("dp").min=3,document.getElementById("DP%").innerHTML="3.0"):"Jumbo"===loan_program&&(document.getElementById("dp").min=10,document.getElementById("DP%").innerHTML="10.0"),loan_term=get_id_value("mySelect2"),interest_rate=Number(get_id_value("apr")),toString("APR%",interest_rate,3),down_payment_percent=Number(get_id_value("dp")),loan_to_value=100-down_payment_percent,toString("LTV",loan_to_value,1),"FHA"===loan_program&&down_payment_percent<3.5&&(down_payment_percent=3.5),"Conventional"===loan_program&&down_payment_percent<3&&(down_payment_percent=3),"Jumbo"===loan_program&&down_payment_percent<10&&(down_payment_percent=10),toString("DP%",down_payment_percent,1),"VA"===loan_program?mi_rate=0:"FHA"===loan_program&&down_payment_percent<5?mi_rate=.85:"FHA"===loan_program&&down_payment_percent>=5?mi_rate=.8:"USDA"===loan_program?mi_rate=.35:"Conventional"===loan_program&&down_payment_percent>=20?mi_rate=0:"Jumbo"===loan_program&&down_payment_percent>=20?mi_rate=0:mi_rate=Number(document.getElementById("mi").value),toString("MI%",mi_rate,2),qualifying_front_ratio=Number(get_id_value("efr")),qualifying_back_ratio=Number(get_id_value("ebr")),toString("EFR",qualifying_front_ratio,0),qualifying_front_ratio>qualifying_back_ratio&&(document.getElementById("ebr").value=qualifying_front_ratio,qualifying_back_ratio=Number(get_id_value("ebr"))),toString("EBR",qualifying_back_ratio,0)}function start_over(){start(),show_slide("slide-1")}function show_income_source(){0===total_monthly_income?show_income_1():show_income_summary()}function show_income_tab(){get_employment_type(),show_slide("income_info")}function show_income_1(){income_source="Income 1",document.getElementById("income-source").innerHTML="Income 1",hide("remove"),show_income_tab()}function show_income_2(){income_source="Income 2",document.getElementById("income-source").innerHTML="Income 2",show("remove"),show_income_tab()}function show_income_3(){income_source="Income 3",document.getElementById("income-source").innerHTML="Income 3",show("remove"),show_income_tab()}function show_income_4(){income_source="Income 4",document.getElementById("income-source").innerHTML="Income 4",show("remove"),show_income_tab()}function show_income_5(){income_source="Income 5",document.getElementById("income-source").innerHTML="Income 5",show("remove"),show_income_tab()}function show_income_summary(){update_income(),0===income2?hide("income-2-details"):show("income-2-details"),0===income3?hide("income-3-details"):show("income-3-details"),0===income4?hide("income-4-details"):show("income-4-details"),0===income5?hide("income-5-details"):show("income-5-details"),show_slide("income-summary")}function get_employment_type(){employmentType=get_id_value("a2"),"Hourly"===employmentType?show_hourly_pay():"Weekly"===employmentType?show_weekly_pay():"Semi-Weekly"===employmentType?show_semi_weekly_pay():"Monthly"===employmentType?show_monthly_pay():"Annually"===employmentType?show_annual_pay():"1099 Employee"===employmentType?show_variable_pay():"Self-Employed"===employmentType&&show_variable_pay()}function clear_inc_source(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("inputValue3"),i=0;i<tabcontent.length;i++)tabcontent[i].value="";"Income 1"===income_source?(document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,income1=0):"Income 2"===income_source?(document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,income2=0,document.getElementById("inc_2").innerHTML=0):"Income 3"===income_source?(document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,income3=0,document.getElementById("inc_3").innerHTML=0):"Income 4"===income_source?(document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,income4=0,document.getElementById("inc_4").innerHTML=0):"Income 5"===income_source&&(document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,income5=0,document.getElementById("inc_5").innerHTML=0),show_income_summary()}function calc_inc_source(){if("Hourly"===employmentType){if(hr=Number(get_id_value("a3a")),hpw=Number(get_id_value("a3b")),hr<=0)return alert("Please enter valid Hourly Rate"),document.getElementById("a3a").value="",void(hr=0);if(hpw<=0||hpw>168)return alert("Please enter valid Hours Per Week"),document.getElementById("a3b").value="",void(hpw=0);w2=hr*hpw*52/12,vp1=Number(get_id_value("a8a")),vp2=Number(get_id_value("a8b")),vp=(vp1+vp2)/24}else if("Weekly"===employmentType){if(wp=Number(get_id_value("a4")),wp<=0)return alert("Please enter valid Weekly Rate"),document.getElementById("a4").value="",void(wp=0);w2=52*wp/12,vp1=Number(get_id_value("a8a")),vp2=Number(get_id_value("a8b")),vp=(vp1+vp2)/24}else if("Semi-Weekly"===employmentType){if(swp=Number(get_id_value("a5")),swp<=0)return alert("Please enter valid Semi-Weekly Rate"),document.getElementById("a5").value="",void(swp=0);w2=26*swp/12,vp1=Number(get_id_value("a8a")),vp2=Number(get_id_value("a8b")),vp=(vp1+vp2)/24}else if("Monthly"===employmentType){if(mp=Number(get_id_value("a6")),mp<=0)return alert("Please enter valid Monthly Salary"),document.getElementById("a6").value="",void(mp=0);w2=mp,vp1=Number(get_id_value("a8a")),vp2=Number(get_id_value("a8b")),vp=(vp1+vp2)/24}else if("Annually"===employmentType){if(ap=Number(get_id_value("a7")),ap<=0)return alert("Please enter valid Annual Salary"),document.getElementById("a7").value="",void(ap=0);w2=ap/12,vp1=Number(get_id_value("a8a")),vp2=Number(get_id_value("a8b")),vp=(vp1+vp2)/24}else if("1099 Employee"===employmentType){if(w2=0,vp1=Number(get_id_value("a9a")),vp2=Number(get_id_value("a9b")),vp1<=0||vp2<=0)return void alert("Please enter required income for 2 years");vp=(vp1+vp2)/24}else if("Self-Employed"===employmentType){if(w2=0,vp1=Number(get_id_value("a9a")),vp2=Number(get_id_value("a9b")),vp1<=0||vp2<=0)return void alert("Please enter required income for 2 years");vp=(vp1+vp2)/24}inc=w2+vp,"Income 1"===income_source?(show("I1"),toString("inc_1",inc,2),toString("i1_w2",w2,2),toString("i1_vp",vp,2),income1=inc):"Income 2"===income_source?(show("I2"),toString("inc_2",inc,2),toString("i2_w2",w2,2),toString("i2_vp",vp,2),income2=inc):"Income 3"===income_source?(show("I3"),toString("inc_3",inc,2),toString("i3_w2",w2,2),toString("i3_vp",vp,2),income3=inc):"Income 4"===income_source?(show("I4"),toString("inc_4",inc,2),toString("i4_w2",w2,2),toString("i4_vp",vp,2),income4=inc):"Income 5"===income_source&&(show("I5"),toString("inc_5",inc,2),toString("i5_w2",w2,2),toString("i5_vp",vp,2),income5=inc),show_income_summary()}function update_income(){total_monthly_income=income1+income2+income3+income4+income5,toString("total-income",total_monthly_income,2)}function update_liability(){auto_loan=Number(document.getElementById("auto_loan").value),auto_loan<0&&(alert("Please enter only positive number"),document.getElementById("auto_loan").value="",auto_loan=0),student_loan=Number(document.getElementById("student_loan").value),student_loan<0&&(alert("Please enter only positive number"),document.getElementById("student_loan").value="",student_loan=0),installment_loan=Number(document.getElementById("installment_loan").value),installment_loan<0&&(alert("Please enter only positive number"),document.getElementById("installment_loan").value="",installment_loan=0),revolving_account=Number(document.getElementById("revolving_account").value),revolving_account<0&&(alert("Please enter only positive number"),document.getElementById("revolving_account").value="",revolving_account=0),other_debt=Number(document.getElementById("other_debt").value),other_debt<0&&(alert("Please enter only positive number"),document.getElementById("other_debt").value="",other_debt=0),total_monthly_liability=auto_loan+student_loan+installment_loan+revolving_account+other_debt,toString("ML",total_monthly_liability,0),calc_dti(),afford_calc(),show_slide("calc-results")}function calc_dti(){var a1=qualifying_front_ratio/100,a2=qualifying_back_ratio/100;liability_allowance=(qualifying_back_ratio-qualifying_back_ratio)*total_monthly_income;var a3,a4=total_monthly_liability/total_monthly_income;a4<a2-a1?(total_monthly_payment_allowed=total_monthly_income*a1+total_monthly_liability,final_front_ratio=100*a1,final_back_ratio=100*(a1+a4)):(total_monthly_payment_allowed=total_monthly_income*a2,final_back_ratio=100*a2,final_front_ratio=100*(a2-a4))}function afford_calc(){var LTV,ltv=loan_to_value/100,pt=1.25/1200,r=interest_rate/1200,n=12*loan_term,k1=r/(1-Math.pow(1/(1+r),n)),k2=pt*(1+down_payment_percent/100),k3=.25/1200;loan_amount=(total_monthly_payment_allowed-total_monthly_liability)/(k1+k2+mi_rate/1200+k3),loan_amount<=0&&(loan_amount=0),toString("P",loan_amount,0),"Jumbo"!==loan_program&&loan_amount>417e3?show("loanMaxNote"):hide("loanMaxNote"),"Jumbo"===loan_program&&loan_amount<484350?show("jumboLoan"):hide("jumboLoan");var M=loan_amount*k1;toString("M",M,2);var HV=loan_amount/ltv,DP;toString("HV",HV,0),toString("DP",HV-loan_amount,0);var T=loan_amount*k2;toString("T",T,2);var I=loan_amount*(mi_rate/1200);toString("I",I,2);var HOI=loan_amount*k3,MP;toString("HOI",HOI,2),toString("MP",M+T+I+HOI,2)}function remove_income(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("inputValue3"),i=0;i<tabcontent.length;i++)tabcontent[i].value="";if(income_source=document.getElementById("a1").value,"Income 1"===income_source&&(set_id_value("inc_1",0),set_id_value("i1_w2",0),set_id_value("i1_vp",0),hide("I1"),income1=0),"Income 2"===income_source&&(set_id_value("inc_2",0),set_id_value("i2_w2",0),set_id_value("i2_vp",0),hide("I2"),income2=0),"Income 3"===income_source&&(set_id_value("inc_3",0),set_id_value("i3_w2",0),set_id_value("i3_vp",0),hide("I3"),income3=0),"Income 4"===income_source&&(set_id_value("inc_4",0),set_id_value("i4_w2",0),set_id_value("i4_vp",0),hide("I4"),income4=0),"Income 5"===income_source&&(set_id_value("inc_5",0),set_id_value("i5_w2",0),set_id_value("i5_vp",0),hide("I5"),income5=0),total_monthly_income=income1+income2+income3+income4+income5,toString("total-income",total_monthly_income,2),0==total_monthly_income)return hide("income-summary"),set_id_value("HV","0.00"),hide("calc-results"),set_id_value("FR","NA"),set_id_value("AFR",100),set_id_value("BR","NA"),void set_id_value("ABR",100);calc_dti(),afford_calc(),show_slide("calc-results")}function get_income_source(){income_source=get_id_value("a1")}function hide_income_input(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("incomeField"),i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none"}function show_hourly_pay(){hide_income_input(),show("q2"),show("q3"),show("q8")}function show_weekly_pay(){hide_income_input(),show("q4"),show("q8")}function show_semi_weekly_pay(){hide_income_input(),show("q5"),show("q8")}function show_monthly_pay(){hide_income_input(),show("q6"),show("q8")}function show_annual_pay(){hide_income_input(),show("q7"),show("q8")}function show_variable_pay(){hide_income_input(),show("q9")}start(),slide_up(widget_slides),slide_down("slide-1");