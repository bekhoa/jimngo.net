for(var flyers=document.getElementById("flyers").getElementsByClassName("collapsible"),i=0;i<flyers.length;i++)flyers[i].addEventListener("click",function(){for(var contents=document.getElementById("flyers").getElementsByClassName("content"),j=0;j<contents.length;j++)contents[j].style.maxHeight=null;if(this.classList.contains("active"))this.classList.remove("active");else{for(var k=0;k<flyers.length;k++)flyers[k].classList.remove("active");this.classList.toggle("active");var content=this.nextElementSibling;content.style.maxHeight=content.scrollHeight+"px"}});function calc(){var i,tabcontent;for(purchase_price=Number(document.getElementById("pp").value),document.getElementById("PP").innerHTML=purchase_price.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),loan_program=document.getElementById("mySelect").value,tabcontent=document.getElementsByClassName("tabcontent"),i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none";document.getElementById(loan_program).style.display="block","FHA"===loan_program?(document.getElementById("dp").min=3.5,document.getElementById("DP%").innerHTML="3.5"):"VA"===loan_program||"USDA"===loan_program?(document.getElementById("dp").min=0,document.getElementById("DP%").innerHTML="0.0"):"Conventional"===loan_program?(document.getElementById("dp").min=3,document.getElementById("DP%").innerHTML="3.0"):"Jumbo"===loan_program&&(document.getElementById("dp").min=10,document.getElementById("DP%").innerHTML="10.0"),"Jumbo"===loan_program?(document.getElementById("pp").min=5e5,document.getElementById("pp").max=2e6):(document.getElementById("pp").min=1e5,document.getElementById("pp").max=1e6),loan_term=document.getElementById("mySelect2").value,down_payment_percent=Number(document.getElementById("dp").value),"FHA"===loan_program&&dp<3.5&&(down_payment_percent=3.5),"Conventional"===loan_program&&dp<3&&(down_payment_percent=3),"Jumbo"===loan_program&&dp<10&&(down_payment_percent=10),document.getElementById("DP%").innerHTML=down_payment_percent.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}),down_payment=purchase_price*(down_payment_percent/100),document.getElementById("DP").innerHTML=down_payment.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),loan_amount=purchase_price-down_payment,document.getElementById("P").innerHTML=loan_amount.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0}),"Jumbo"!==loan_program&&loan_amount>417e3?document.getElementById("loanMaxNote").style.display="block":document.getElementById("loanMaxNote").style.display="none","Jumbo"===loan_program&&loan_amount<484350?document.getElementById("jumboLoan").style.display="block":document.getElementById("jumboLoan").style.display="none",loan_to_value=100-down_payment_percent,document.getElementById("LTV").innerHTML=loan_to_value.toLocaleString(void 0,{minimumFractionDigits:1,maximumFractionDigits:1}),interest_rate=Number(document.getElementById("apr").value),document.getElementById("APR").innerHTML=interest_rate.toLocaleString(void 0,{minimumFractionDigits:3,maximumFractionDigits:3}),"VA"===loan_program?mi_rate=0:"FHA"===loan_program&&down_payment_percent<5?mi_rate=.85:"FHA"===loan_program&&down_payment_percent>=5?mi_rate=.8:"USDA"===loan_program?mi_rate=.35:"Conventional"===loan_program&&down_payment_percent>=20?mi_rate=0:"Jumbo"===loan_program&&down_payment_percent>=20?mi_rate=0:mi_rate=Number(document.getElementById("mi").value),document.getElementById("MI%").innerHTML=mi_rate.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),property_tax_rate=Number(document.getElementById("pt").value),document.getElementById("PT%").innerHTML=property_tax_rate.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),home_owner_insurance=purchase_price*(.25/1200),document.getElementById("HOI").innerHTML=home_owner_insurance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2});var n=12*loan_term,r=interest_rate/1200;principal_interest=loan_amount*r/(1-Math.pow(1/(1+r),n)),document.getElementById("PI").innerHTML=principal_interest.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),property_tax=property_tax_rate*purchase_price/1200,document.getElementById("T").innerHTML=property_tax.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),mortgage_insurance=mi_rate*loan_amount/1200,document.getElementById("I").innerHTML=mortgage_insurance.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),housing_expense=principal_interest+property_tax+mortgage_insurance+home_owner_insurance,document.getElementById("MP").innerHTML=housing_expense.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("total_income").innerHTML=income_total.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("MTL").innerHTML=monthly_liability.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),0!=income_total&&calc_dti()}function hide_calc_slides(){for(var widget_slides=document.getElementById("mortgage-prequalification-widget").getElementsByClassName("widget-slide"),i=0;i<widget_slides.length;i++)$(widget_slides[i]).hide()}function show_slide(id){var element;hide_calc_slides(),$("#"+id).slideDown("slow"),document.getElementById("mortgage-prequalification-widget").scrollIntoView()}function show_income_source(){0===income_total?(income_source="Income 1",show_income(1)):show_income_summary()}function show_income(id){income_source="Income "+id,document.getElementById("income-source").innerHTML=income_source,"Income 1"===income_source?document.getElementById("remove").style.display="none":document.getElementById("remove").style.display="block",show_slide("income-info")}function show_income_summary(){hide_calc_slides(),show_slide("income-summary"),0===income2?document.getElementById("income-2-details").style.display="none":document.getElementById("income-2-details").style.display="block",0===income3?document.getElementById("income-3-details").style.display="none":document.getElementById("income-3-details").style.display="block",0===income4?document.getElementById("income-4-details").style.display="none":document.getElementById("income-4-details").style.display="block",0===income5?document.getElementById("income-5-details").style.display="none":document.getElementById("income-5-details").style.display="block"}function show_calc_results(){update_income(),add_liability(),calc_dti(),hide_calc_slides(),show_slide("calc_results")}function remove_income(){clear_inc_source(),update_income(),calc_dti()}function calc_inc_source(){if(get_employment_type(),"Hourly"===employmentType){if(hr=Number(document.getElementById("a3a").value),hpw=Number(document.getElementById("a3b").value),hr<=0)return alert("Please enter valid Hourly Rate"),document.getElementById("a3a").value="",void(hr=0);if(hpw<=0||hpw>168)return alert("Please enter valid Hours Per Week"),document.getElementById("a3b").value="",void(hpw=0);w2=hr*hpw*52/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Weekly"===employmentType){if(wp=Number(document.getElementById("a4").value),wp<=0)return alert("Please enter valid Weekly Rate"),document.getElementById("a4").value="",void(wp=0);w2=52*wp/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Semi-Weekly"===employmentType){if(swp=Number(document.getElementById("a5").value),swp<=0)return alert("Please enter valid Semi-Weekly Rate"),document.getElementById("a5").value="",void(swp=0);w2=26*swp/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Monthly"===employmentType){if(mp=Number(document.getElementById("a6").value),mp<=0)return alert("Please enter valid Monthly Salary"),document.getElementById("a6").value="",void(mp=0);w2=mp,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("Annually"===employmentType){if(ap=Number(document.getElementById("a7").value),ap<=0)return alert("Please enter valid Annual Salary"),document.getElementById("a7").value="",void(ap=0);w2=ap/12,vp1=Number(document.getElementById("a8a").value),vp2=Number(document.getElementById("a8b").value),vp=(vp1+vp2)/24}else if("1099 Employee"===employmentType){if(w2=0,vp1=Number(document.getElementById("a9a").value),vp2=Number(document.getElementById("a9b").value),vp1<=0||vp2<=0)return void alert("Please enter required income for 2 years");vp=(vp1+vp2)/24}else if("Self-Employed"===employmentType){if(w2=0,vp1=Number(document.getElementById("a9a").value),vp2=Number(document.getElementById("a9b").value),vp1<=0||vp2<=0)return void alert("Please enter required income for 2 years");vp=(vp1+vp2)/24}inc=w2+vp,"Income 1"===income_source?(document.getElementById("I1").style.display="block",document.getElementById("inc_1").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i1_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i1_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income1=inc):"Income 2"===income_source?(document.getElementById("I2").style.display="block",document.getElementById("inc_2").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i2_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i2_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income2=inc):"Income 3"===income_source?(document.getElementById("I3").style.display="block",document.getElementById("inc_3").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i3_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i3_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income3=inc):"Income 4"===income_source?(document.getElementById("I4").style.display="block",document.getElementById("inc_4").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i4_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i4_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income4=inc):"Income 5"===income_source&&(document.getElementById("I5").style.display="block",document.getElementById("inc_5").innerHTML=inc.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i5_w2").innerHTML=w2.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("i5_vp").innerHTML=vp.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),income5=inc),show_income_summary()}function update_income(){income_total=income1+income2+income3+income4+income5,document.getElementById("total_income").innerHTML=income_total.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function add_liability(){auto_loan=Number(document.getElementById("auto_loan").value),student_loan=Number(document.getElementById("student_loan").value),installment_loan=Number(document.getElementById("installment_loan").value),revolving_account=Number(document.getElementById("revolving_account").value),other_debt=Number(document.getElementById("other_debt").value),monthly_liability=auto_loan+student_loan+installment_loan+revolving_account+other_debt,document.getElementById("MTL").innerHTML=monthly_liability.toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:0})}function clear_liability(){auto_loan=0,student_loan=0,installment_loan=0,revolving_account=0,other_debt=0,document.getElementById("auto_loan").value="",document.getElementById("student_loan").value="",document.getElementById("installment_loan").value="",document.getElementById("revolving_account").value="",document.getElementById("other_debt").value=""}function calc_dti(){monthly_payment=housing_expense+monthly_liability,front_dti_ratio=housing_expense/income_total*100,back_dti_ratio=monthly_payment/income_total*100,document.getElementById("no_income_warning").style.display="none",document.getElementById("dti_results").style.display="block",document.getElementById("dti_messages").style.display="block",front_dti_ratio>37?document.getElementById("FR").style.color="red":document.getElementById("FR").style.color="green",document.getElementById("FR").innerHTML=front_dti_ratio.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("FR%").value=front_dti_ratio.toLocaleString(),back_dti_ratio>47?document.getElementById("BR").style.color="red":document.getElementById("BR").style.color="green",document.getElementById("BR").innerHTML=back_dti_ratio.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),document.getElementById("BR%").value=back_dti_ratio.toLocaleString(),back_dti_ratio<=36?(document.getElementById("dti1").style.display="block",document.getElementById("dti2").style.display="none",document.getElementById("dti3").style.display="none"):back_dti_ratio>36&&back_dti_ratio<=50?(document.getElementById("dti1").style.display="none",document.getElementById("dti2").style.display="block",document.getElementById("dti3").style.display="none"):(document.getElementById("dti1").style.display="none",document.getElementById("dti2").style.display="none",document.getElementById("dti3").style.display="block")}function clear_inc_source(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("inputValue3"),i=0;i<tabcontent.length;i++)tabcontent[i].value="";"Income 1"===income_source?(document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,income1=0):"Income 2"===income_source?(document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,income2=0,document.getElementById("inc_2").innerHTML=0):"Income 3"===income_source?(document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,income3=0,document.getElementById("inc_3").innerHTML=0):"Income 4"===income_source?(document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,income4=0,document.getElementById("inc_4").innerHTML=0):"Income 5"===income_source&&(document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,income5=0,document.getElementById("inc_5").innerHTML=0),show_income_summary()}function start_over(){income1=0,income2=0,income3=0,income4=0,income5=0,income_total=0,monthly_liability=0,document.getElementById("inc_1").value=0,document.getElementById("i1_w2").value=0,document.getElementById("i1_vp").value=0,document.getElementById("inc_1").innerHTML=0,document.getElementById("inc_2").value=0,document.getElementById("i2_w2").value=0,document.getElementById("i2_vp").value=0,document.getElementById("inc_2").innerHTML=0,document.getElementById("inc_3").value=0,document.getElementById("i3_w2").value=0,document.getElementById("i3_vp").value=0,document.getElementById("inc_3").innerHTML=0,document.getElementById("inc_4").value=0,document.getElementById("i4_w2").value=0,document.getElementById("i4_vp").value=0,document.getElementById("inc_4").innerHTML=0,document.getElementById("inc_5").value=0,document.getElementById("i5_w2").value=0,document.getElementById("i5_vp").value=0,document.getElementById("inc_5").innerHTML=0,document.getElementById("a3a").value="",document.getElementById("a3b").value="",document.getElementById("a4").value="",document.getElementById("a5").value="",document.getElementById("a6").value="",document.getElementById("a7").value="",document.getElementById("a8a").value="",document.getElementById("a8b").value="",document.getElementById("a9a").value="",document.getElementById("a9b").value="",clear_liability(),show_slide("slide-1")}function get_employment_type(){employmentType=document.getElementById("a2").value,"Hourly"===employmentType?show_hourly_pay():"Weekly"===employmentType?show_weekly_pay():"Semi-Weekly"===employmentType?show_semi_weekly_pay():"Monthly"===employmentType?show_monthly_pay():"Annually"===employmentType?show_annual_pay():"1099 Employee"===employmentType?show_variable_pay():"Self-Employed"===employmentType&&show_variable_pay()}function hide_income_input(){var i,tabcontent;for(tabcontent=document.getElementsByClassName("incomeField"),i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none"}function show_hourly_pay(){hide_income_input(),document.getElementById("q2").style.display="block",document.getElementById("q3").style.display="block",document.getElementById("q8").style.display="block"}function show_weekly_pay(){hide_income_input(),document.getElementById("q4").style.display="block",document.getElementById("q8").style.display="block"}function show_semi_weekly_pay(){hide_income_input(),document.getElementById("q5").style.display="block",document.getElementById("q8").style.display="block"}function show_monthly_pay(){hide_income_input(),document.getElementById("q6").style.display="block",document.getElementById("q8").style.display="block"}function show_annual_pay(){hide_income_input(),document.getElementById("q7").style.display="block",document.getElementById("q8").style.display="block"}function show_variable_pay(){hide_income_input(),document.getElementById("q9").style.display="block"}income1=0,income2=0,income3=0,income4=0,income5=0,income_total=0,monthly_liability=0,calc();