function current_date_time(){var e=new Date,t=e.getDay(),n=e.getHours();6==t&&n>=18?open_monday():0==t?open_tomorrow():n<10?open_soon():n>=18?open_tomorrow():show_phone()}function open_monday(){show("opening_monday"),hide("opening_tomorrow"),hide("opening_soon"),hide_phone()}function open_tomorrow(){hide("opening_monday"),show("opening_tomorrow"),hide("opening_soon"),hide_phone()}function open_soon(){hide("opening_monday"),hide("opening_tomorrow"),show("opening_soon"),hide_phone()}function open(){hide("opening_monday"),hide("opening_tomorrow"),hide("opening_soon"),show_phone()}function hide_phone(){show("text"),hide("call"),show("email")}function show_phone(){show("text"),show("call"),show("email")}function show(e){document.getElementById(e).style.display="block"}function hide(e){document.getElementById(e).style.display="none"}function init(){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++)if(e[t].getAttribute("data-src")){e[t].setAttribute("src",e[t].getAttribute("data-src"));e[t].getAttribute("data-src")}}function myFunction(){window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")}function slideshow(){setInterval(function(){nextSlide("hecm-ss")},2e3)}function nextSlide(e){var t=document.getElementById(e).getElementsByClassName("slide");t.index=t.index||0,t[t.index].className="slide",t.index=(t.index+1)%t.length,t[t.index].className="slide showing"}function collapsible(e,t,n){const o=document.getElementById(e).getElementsByClassName(t),i=document.getElementById(e).getElementsByClassName(n);for(let e=0;e<o.length;e++)o[e].addEventListener("click",function(){for(let e=0;e<i.length;e++)i[e].style.height="0px";if(this.classList.contains("active"))this.classList.remove("active");else{for(let e=0;e<o.length;e++)o[e].classList.remove("active");this.classList.toggle("active");var e=this.nextElementSibling;e.style.height=e.scrollHeight+"px"}})}function slide_up(e){for(var t=0;t<e.length;t++)e[t].style.display="none",e[t].style.height="0px"}function slide_down(e){var t=document.getElementById(e);t.style.display="block",t.style.height=t.scrollHeight+"px"}function set_scrollHeight(e){var t=document.getElementById(e);t.style.height=t.scrollHeight+"px"}function show_tab_content(e){slide_up(tabcontents),slide_down(e)}function show_slide(e){calc(),slide_up(widget_slides),slide_down(e),document.getElementById("calculator").scrollIntoView()}function toString(e,t,n){document.getElementById(e).innerHTML=t.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})}function get_value(e){return document.getElementById(e).value}function get_inputs(){get_age(),get_loan_purpose(),get_interest_rate_option(),get_interest_rate(),get_principal_limit_factor(),get_loan_origination_fee(),get_other_closing_costs(),get_cash_available(),get_home_appraised_value(),get_current_mortgage_balance()}function calc(){if(get_inputs(),"Purchase"===loan_purpose){show("max-hecm-warning"),hide("no-equity-warning"),max=(cash_available-loan_origination_fee-other_closing_costs)/(1.02-plf),max>=726525?(max=726525,document.getElementById("max-hecm-warning").innerHTML="You've reached HECM Maximum Principal Limit"):document.getElementById("max-hecm-warning").innerHTML="",toString("maxClaim",max,0);var e=max*plf;toString("pl$Purchase",e,0),ufmip=.02*max,costs=loan_origination_fee+other_closing_costs+ufmip;var t=cash_available-costs;toString("erPurchase",t,0);var n=e+t;toString("purchasePrice",n,0)}else{hide("max-hecm-warning"),show("no-equity-warning"),get_home_appraised_value(),document.getElementById("cmb").max=hav,get_current_mortgage_balance(),max=hav>726525?726525:hav,toString("MAX",max,0),ufmip=.02*max,costs=loan_origination_fee+other_closing_costs+ufmip;var o=max*plf;toString("PL$",o,0);var i=.6*o;toString("IniLimit$",i,0);var a=o-(costs+cmb);toString("HECM",a,0),document.getElementById("no-equity-warning").innerHTML=a<=0?"You Don't Have Enough Equity":"";var s=max*(1-plf);toString("ER",s,0)}set_scrollHeight("slide-2"),set_scrollHeight("slide-3"),toString("UFMIP",ufmip,0),toString("COST$",costs,0)}function get_age(){age=Number(get_value("age")),toString("AGE",age,0)}function get_loan_purpose(){loan_purpose=get_value("loan-purpose"),"Purchase"===loan_purpose?(show_tab_content("purchase"),show("h4p-video"),hide("hecm-video"),show("purchaseResults"),hide("refiResults"),document.getElementById("rate-option").value="Fixed",show("fixed-rate"),hide("variable-rate"),show("cash-available"),hide("variable-option"),hide("home-appraised-value")):(show_tab_content("hecm"),hide("h4p-video"),show("hecm-video"),hide("purchaseResults"),show("refiResults"),hide("cash-available"),show("variable-option"),show("home-appraised-value"))}function get_cash_available(){cash_available=Number(get_value("ca")),toString("CA",cash_available,0)}function get_interest_rate_option(){interest_rate_option=get_value("rate-option"),"Fixed"===interest_rate_option?(show("fixed-rate"),hide("variable-rate")):(hide("fixed-rate"),show("variable-rate"))}function get_interest_rate(){int=Number(get_value("int")),toString("INT",int,3)}function get_principal_limit_factor(){result=plfs.find(e=>e.age===age&&e.int===int),plf=result.factor,toString("PLF1",plf,3),toString("PLF2",plf,3)}function get_loan_origination_fee(){loan_origination_fee=Number(get_value("lof")),toString("LOF",loan_origination_fee,0),toString("LOF_2",loan_origination_fee,0)}function get_other_closing_costs(){other_closing_costs=Number(get_value("cc")),toString("CC",other_closing_costs,0),toString("CC_2",other_closing_costs,0)}function get_home_appraised_value(){hav=Number(get_value("hav")),toString("HAV",hav,0)}function get_current_mortgage_balance(){cmb=Number(get_value("cmb")),toString("CMB",cmb,0)}setInterval(current_date_time,1e3),init(),window.onscroll=function(){myFunction()};var header=document.getElementById("myHeader"),sticky=header.offsetTop;onload=slideshow,collapsible("QA","collapsible","content");const calculator="reverse-calculator-widget",widget_slides=document.getElementById(calculator).getElementsByClassName("widget-slide"),tabcontents=document.getElementById(calculator).getElementsByClassName("tabcontent"),messages=document.getElementById("slide-2").getElementsByClassName("message");var max,ufmip,costs;calc(),slide_up(widget_slides),slide_down("slide-1");