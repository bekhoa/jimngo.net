function current_date_time(){var d=new Date,day=d.getDay(),hour=d.getHours();6==day&&hour>=18?open_monday():0==day?open_tomorrow():hour<10?open_soon():hour>=18?open_tomorrow():show_phone()}function open_monday(){show("opening_monday"),hide("opening_tomorrow"),hide("opening_soon"),hide_phone()}function open_tomorrow(){hide("opening_monday"),show("opening_tomorrow"),hide("opening_soon"),hide_phone()}function open_soon(){hide("opening_monday"),hide("opening_tomorrow"),show("opening_soon"),hide_phone()}function open(){hide("opening_monday"),hide("opening_tomorrow"),hide("opening_soon"),show_phone()}function hide_phone(){show("text"),hide("call"),show("email")}function show_phone(){show("text"),show("call"),show("email")}function init(){for(var imgDefer=document.getElementsByTagName("img"),i=0;i<imgDefer.length;i++)if(imgDefer[i].getAttribute("data-src")){imgDefer[i].setAttribute("src",imgDefer[i].getAttribute("data-src"));var src=imgDefer[i].getAttribute("data-src")}}function slideshow(){setInterval((function(){nextSlide("hecm-ss"),nextSlide("service-ss"),nextSlide("home-valuation-ss"),nextSlide("dpa-ss"),nextSlide("refinance-ss"),nextSlide("sfr-ss"),nextSlide("flyer-ss")}),2e3)}function nextSlide(id){var elems=document.getElementById(id).getElementsByClassName("slide");elems.index=elems.index||0,elems[elems.index].className="slide",elems.index=(elems.index+1)%elems.length,elems[elems.index].className="slide showing"}function collapsible(idName,className,className2){const array=document.getElementById(idName).getElementsByClassName(className),contents=document.getElementById(idName).getElementsByClassName(className2);for(let i=0;i<array.length;i++)array[i].addEventListener("click",(function(){for(let j=0;j<contents.length;j++)contents[j].style.height="0px";if(this.classList.contains("active"))this.classList.remove("active");else{for(let k=0;k<array.length;k++)array[k].classList.remove("active");this.classList.toggle("active");var content=this.nextElementSibling;content.style.height=content.scrollHeight+"px"}}))}setInterval(current_date_time,1e3),init(),onload=slideshow,collapsible("QA","collapsible","content"),collapsible("flyers","collapsible","content");const calculator="reverse-calculator-widget",widget_slides=document.getElementById(calculator).getElementsByClassName("widget-slide"),tabcontents=document.getElementById(calculator).getElementsByClassName("tabcontent"),messages=document.getElementById("slide-2").getElementsByClassName("message");function slide_up(array){for(var i=0;i<array.length;i++)array[i].style.display="none",array[i].style.height="0px"}function slide_down(id){var content=document.getElementById(id);content.style.display="block",content.style.height=content.scrollHeight+"px"}function set_scrollHeight(id){var content=document.getElementById(id);content.style.height=content.scrollHeight+"px"}function show_tab_content(id){slide_up(tabcontents),slide_down(id)}function show_slide(id){calc(),slide_up(widget_slides),slide_down(id),document.getElementById(calculator).scrollIntoView()}function show(id){document.getElementById(id).style.display="block"}function hide(id){document.getElementById(id).style.display="none"}function toString(id,value,digit){document.getElementById(id).innerHTML=value.toLocaleString(void 0,{minimumFractionDigits:digit,maximumFractionDigits:digit})}function get_value(id){return document.getElementById(id).value}var max,ufmip,costs;function get_inputs(){get_age(),get_loan_purpose(),get_interest_rate_option(),get_interest_rate(),get_principal_limit_factor(),get_loan_origination_fee(),get_other_closing_costs(),get_cash_available(),get_home_appraised_value(),get_current_mortgage_balance()}function calc(){if(get_inputs(),"Purchase"===loan_purpose){show("max-hecm-warning"),hide("no-equity-warning"),(max=(cash_available-loan_origination_fee-other_closing_costs)/(1.02-plf))>=726525?(max=726525,document.getElementById("max-hecm-warning").innerHTML="You've reached HECM Maximum Principal Limit"):document.getElementById("max-hecm-warning").innerHTML="",toString("maxClaim",max,0);var pl$Purchase=max*plf;toString("pl$Purchase",pl$Purchase,0),ufmip=.02*max,costs=loan_origination_fee+other_closing_costs+ufmip;var erPurchase=cash_available-costs,purchasePrice;toString("erPurchase",erPurchase,0),toString("purchasePrice",pl$Purchase+erPurchase,0)}else{hide("max-hecm-warning"),show("no-equity-warning"),get_home_appraised_value(),document.getElementById("cmb").max=hav,get_current_mortgage_balance(),toString("MAX",max=hav>726525?726525:hav,0),ufmip=.02*max,costs=loan_origination_fee+other_closing_costs+ufmip;var pl$=max*plf,inilimit$;toString("PL$",pl$,0),toString("IniLimit$",.6*pl$,0);var hecm=pl$-(costs+cmb),er;toString("HECM",hecm,0),document.getElementById("no-equity-warning").innerHTML=hecm<=0?"You Don't Have Enough Equity":"",toString("ER",max*(1-plf),0)}set_scrollHeight("slide-2"),set_scrollHeight("slide-3"),toString("UFMIP",ufmip,0),toString("COST$",costs,0)}function get_age(){age=Number(get_value("age")),toString("AGE",age,0)}function get_loan_purpose(){loan_purpose=get_value("loan-purpose"),"Purchase"===loan_purpose?(show_tab_content("purchase"),show("h4p-video"),hide("hecm-video"),show("purchaseResults"),hide("refiResults"),document.getElementById("rate-option").value="Fixed",show("fixed-rate"),hide("variable-rate"),show("cash-available"),hide("variable-option"),hide("home-appraised-value")):(show_tab_content("hecm"),hide("h4p-video"),show("hecm-video"),hide("purchaseResults"),show("refiResults"),hide("cash-available"),show("variable-option"),show("home-appraised-value"))}function get_cash_available(){cash_available=Number(get_value("ca")),toString("CA",cash_available,0)}function get_interest_rate_option(){interest_rate_option=get_value("rate-option"),"Fixed"===interest_rate_option?(show("fixed-rate"),hide("variable-rate")):(hide("fixed-rate"),show("variable-rate"))}function get_interest_rate(){int=Number(get_value("int")),toString("INT",int,3)}function get_principal_limit_factor(){result=plfs.find(plf=>plf.age===age&&plf.int===int),plf=result.factor,toString("PLF1",plf,3),toString("PLF2",plf,3)}function get_loan_origination_fee(){loan_origination_fee=Number(get_value("lof")),toString("LOF",loan_origination_fee,0),toString("LOF_2",loan_origination_fee,0)}function get_other_closing_costs(){other_closing_costs=Number(get_value("cc")),toString("CC",other_closing_costs,0),toString("CC_2",other_closing_costs,0)}function get_home_appraised_value(){hav=Number(get_value("hav")),toString("HAV",hav,0)}function get_current_mortgage_balance(){cmb=Number(get_value("cmb")),toString("CMB",cmb,0)}calc(),slide_up(widget_slides),slide_down("slide-1");